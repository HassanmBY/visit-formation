<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Visite Formations Entrée</title>
        <!-- <link rel="stylesheet" href="assets/style.css"> -->
        <script src="https://cdn.tailwindcss.com?plugins=forms,typography,aspect-ratio"></script>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            clifford: '#da373d',
                        }
                    }
                }
            }
        </script>
        <script src="https://unpkg.com/html5-qrcode"></script>
        <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
        <script src="assets/scripts/main.js" defer></script>
        <link rel="stylesheet" href="assets/style/style.css">
    </head>
    <body>

        <header class="bg-gray-800 p-4">
            <nav>
                <ul class="flex space-x-4">
                    <li><a href="index.html" class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500">Entrée</a>
                    </li>
                    <li><a href="sortie.html" class="text-white px-4 py-2 hover:bg-gray-700 rounded-lg">Sortie</a></li>
                </ul>
            </nav>
        </header>
        <main class="mt-4 p-4">
            <!-- Formulaire manuel -->
            <form id="manualForm" class="mb-4">
                <fieldset>
                    <legend>Données du visiteur</legend>
                    <div class="flex flex-col max-w-xs">
                        <label for="firstname">Nom</label>
                        <input type="text" name="firstname" id="firstname" required>
                    </div>
                    <div class="flex flex-col max-w-xs">
                        <label for="lastname">Prénom</label>
                        <input type="text" name="lastname" id="lastname" required>
                    </div>
                    <div class="flex flex-col max-w-xs">
                        <label for="email">E-mail</label>
                        <input type="email" name="email" id="email" required>
                    </div>
                    <button id="sendUserData" class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500">Envoyer</button>
                </fieldset>
            </form>
            <hr>
            <!-- Formulaire QR Code -->
            <form id="qrCodeForm" class="mt-12 mb-4">
                <fieldset>
                    <legend>Entrer avec un code QR</legend>

                    <label for="cameraSelector">Camera choisie</label>
                    <select name="cameraSelector" id="cameraSelector"></select>
                    <fieldset>
                        <button id="scanBtn" class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500">Scanner le code
                            QR</button>
                    </fieldset>
                    <div id="reader" class="max-w-xs"></div>
                </fieldset>
            </form>
            <hr>

            <!-- Formulaire Email -->
            <form id="emailForm">
                <fieldset>
                    <legend>Entrer avec une adresse e-mail</legend>

                    <label for="visitorEmail">Adresse e-mail</label>
                    <fieldset>
                        <input type="email" name="visitorEmail" id="visitorEmail" required>
                    </fieldset>
                    <button id="emailFormBtn" class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500">Chercher par e-mail</button>
                </fieldset>
            </form>

            <!-- Validation visiteur -->
            <div class="p-6 bg-white border border-gray-200 rounded-lg shadow confirmationCard" id="confirmationCard">
                <ul class="whitespace-nowrap"></ul>
                <button class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500" id="validateScanReturn">Valider</button>
                <button class="text-white px-4 py-2 bg-red-600 rounded-lg hover:bg-red-500"><a href="index.html">Changer d'utilisateur</a></button>
            </div>

            <!-- Choix visite -->
            <div id="chooseFormCont" class="max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow chooseFormCont">
                <form id="chooseForm">
                    <div class="flex flex-col max-w-xs">
                        <label for="visitReason">Objet de la visite</label>
                        <select name="visitReason" id="visitReason" required>
                            <option value="formations">Formation</option>
                            <option value="personnel">Visiter un membre du personnel</option>
                        </select>
                    </div>
                    <div class="flex flex-col max-w-xs">
                        <label for="choose-session-personnel">Choisissez votre visite</label>
                        <select name="choose-session-personnel" id="choose-session-personnel" required>
                        </select>
                    </div>
                    <button id="sendVisit" class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500">Selectionner</button>
                </form>
            </div>

            <!-- Carte visiteur -->
            <div class="p-6 bg-white border border-gray-200 rounded-lg shadow card" id="visitorCard">
                <div class="flex flex-row w-max gap-12">
                    <ul class="whitespace-nowrap"></ul>
                    <div id="qrcode" class="w-48"></div>
                </div>
                <button class="text-white px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-500"><a href="index.html">Valider</a></button>
            </div>

        </main>


    </body>
</html>